# 实验计划（重构版）

## 核心发现：1+1>2 已验证

FOG优化器在CIFAR-10上10个epoch达到90.30%准确率，显著优于：

- Muon (结构自然梯度): 85.94%
- KFAC (统计自然梯度): 85.76%

这证实了PI-Muon理论的核心假设：**动态融合统计适应性与结构稳定性**优于任一单独方法。

## 新方向：严格消融实验与拓展验证

### 第一阶段：CIFAR-10 严格消融实验

**目标**：系统验证FOG的每个组件贡献，建立可复现的基准。

#### 1. 超参数敏感性分析（1天）

- [ ] 学习率扫描：{0.0005, 0.001, 0.002, 0.005}
- [ ] 融合权重调制函数对比：线性 vs Sigmoid vs tanh
- [ ] 统计/结构梯度比例边界测试

#### 2. 网络架构泛化性（1天）

- [ ] ResNet-18（已完成）→ ResNet-34
- [ ] 不同深度下的稳定性验证
- [ ] 计算开销与模型复杂度关系

#### 3. 数据增强影响（0.5天）

- [ ] 无增强 vs 标准增强 vs 强增强
- [ ] FOG在数据稀缺场景下的优势验证

### 第二阶段：Wikitext-2 语言建模验证

**目标**：验证FOG在序列建模任务上的普适性。

#### 1. 基线建立（1天）

- [ ] Nano-GPT + FOG配置
- [ ] 建立AdamW、Muon、KFAC对照组
- [ ] 统一超参数标准化（batch size=8, lr=1e-4）

#### 2. 收敛速度对比（1天）

- [ ] 10 epoch内的验证损失下降曲线
- [ ] 达到目标困惑度所需迭代次数
- [ ] 训练稳定性（梯度爆炸/消失频率）

#### 3. 长序列外推（0.5天）

- [ ] 训练长度256 → 测试长度512/1024
- [ ] FOG在分布外长度上的泛化能力

### 第三阶段：认知动力学分析

**目标**：建立PI与优化性能的理论联系。

#### 1. PI时间序列分析（0.5天）

- [ ] 不同优化器的PI演化模式对比
- [ ] PI与验证准确率的滞后相关性
- [ ] 临界现象识别（PI突变点）

#### 2. 梯度几何分析（1天）

- [ ] 统计梯度与结构梯度的余弦相似度演化
- [ ] 参数空间轨迹的曲率变化
- [ ] Fisher信息矩阵的条件数分析

## 技术路线优先级

1. **高优先级**：Wikitext-2验证（普适性证明）
2. **中优先级**：超参数鲁棒性（实用性保证）
3. **低优先级**：认知动力学（理论深化）

## 退出条件

- 若Wikitext-2上FOG无显著优势→回归纯KFAC研究
- 若超参数敏感性过高→聚焦理论分析而非工程应用
- 若计算开销不可接受→转向对角近似版本

## PI-ZPD: 预测完整性引导的最近发展区优化

PI-ZPD 把被动梯度下降升维成可微分课程设计：用实时预测完整性 PI 作为模型认知坐标，动态软化交叉熵损失 `L = w(PI)·CE`。高 PI 时 w→1，全力学习；低 PI 时 w→0，抑制梯度，实现维果茨基「最近发展区」的可计算脚手架。

此时「教师」由外部真理 y_true 与内部信念 y_pred 动态合成，PI 权重在每一步仲裁应更多服从世界还是保留偏见，使巩固与探索保持自适应平衡。样本若落在 ZPD 内则全力更新，在外则策略性等待，防止灾难性冲击。

该变体待 baseline 套件完成后实现，用于持续学习场景。
